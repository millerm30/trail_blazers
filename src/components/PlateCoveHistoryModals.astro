---
import Modal from "../components/Modal.astro";
const headText = "Plate Cove History";
const images = await Astro.glob("../assets/history/platecoveHistory*.*").then(file => {
  return file.map(file => file.default.src);
})
const sortedImages = images.sort((a, b) => {
  const aNum = a.match(/\d+/)[0];
  const bNum = b.match(/\d+/)[0];
  return aNum - bNum;
});

const imageTexts = [
  "Keough family mill towards the point located in Plate Cove West. Dated - 1984",
  "As you enter Plate Cove East. Dated - 1984",
  "Stripping logs for repairs to slipway located in Plate Cove East. Dated - 1984",
  "Stripping Logs for repairs to slipway located in Plate Cove West. Dated - 1984",
  "Bill Mews (left) & Bill Walsh in Plate Cove West. Dated - 1984",
  "Motor boats on the slipway in Plate Cove East. Dated - 1984",
  "Picture of the community and both older churches of Plate Cove on the hill. Plate Cove East. Dated - late 1950's",
  "Original Cabot Highway travelling from Butcher's Nose into Plate Cove West. In the picture you will see schooner's and you will notice the stages with sheds that are no longer there due to storm surges over the years. Dated - 1947",
  "Gravel road leading into Plate Cove West. Dated - 1947",
  "The original Cabot Highway at Plate Cove East. Note the narrowness of the road, the fenced gardens, the horse crossing the road and the old telegrapgh pole with the glass insulator and 'bottle stick'. Dated - 1947",
  "Official opening of the highway was in the late 1940's. Driving in the path end section leading into Plate Cove West.",
  "Thomas (Mr. Tommy) Keough's wharf & shed. Plate Cove West. Dated - 1947",
  "Looking towards Bald Rock Point with vehicles in the foreground. Plate Cove East. Dated - Late 1970's to early 1980's",
  "Standing at a fence by Annie Dooley's house looking across the cove. You can notice the Plate Cove church on the hill by the lower chimney. Plate Cove East. Dated - 1980",
  "Daniel Keough's motorboat being launched on Bayview Drive (formely known as the back lane). Wife - Ellen (braker) Keough upper middle of picture in white dress. Genevieve Furlong to the right of Ellen Keough (4th. to the right in a dress). Plate Cove West - Dated - 1960's",
];
---

{sortedImages.map((image, index) => (
  <Modal 
    modalId={`modal-${index + 1}`} 
    headingText={headText} 
    paragraphText={imageTexts[index]} 
    imgSource={image} 
    imgAlt={`Image of Plate Cove History ${index + 1}`}
  />
))};