---
import Modal from "../components/Modal.astro";
import { butchersNosePhotosModalImageTexts } from "../components/ImageTexts";

const headText = "Butcher's Nose Trail";
const images = await Astro.glob(
  "../assets/butchers_nose/butchers_nose*.*"
).then((file) => {
  return file.map((file) => file.default.src);
});
const sortedImages = images.sort((a, b) => {
  const aNum = a.match(/\d+/)[0];
  const bNum = b.match(/\d+/)[0];
  return aNum - bNum;
});
---

{
  sortedImages.map((image, index) => (
    <Modal
      modalId={`modal-${index + 1}`}
      headingText={headText}
      paragraphText={butchersNosePhotosModalImageTexts[index]}
      imgSource={image}
      imgAlt={`Image of Butcher's Nose Trail ${index + 1}`}
    />
  ))
};
